<link rel="stylesheet" href="/styles/classroom.css" />
<h1>{{pageTitel}}</h1>

<div class="classroom-list">
{{#each classes}}
  <section>
    <h2>{{className}} (Code: {{code}}) - Teacher: {{teacherUsername}}</h2>
    <ul>
      {{#each members}}
        <li>{{username}} — {{character}} (Level: {{level}}, XP: {{xp}})</li>
      {{/each}}
    </ul>

    {{#if isTeacher}}
    <form action="/Classroom/{{id}}/delete" method="POST" onsubmit="return confirmDelete();">
      <button type="submit" style="background-color: red; color: white; padding: 8px 12px; border: none; border-radius: 4px;">
        🗑️ Delete this Class
      </button>
    </form>
    {{else}}
    <form action="/Classroom/{{id}}/leave" method="POST" onsubmit="return confirmLeave();">
      <button type="submit" style="background-color: orange; color: white; padding: 8px 12px; border: none; border-radius: 4px; cursor: pointer;">
        🚪 Leave Class
      </button>
    </form>
    {{/if}}
  </section>
{{/each}}
</div>
<script>
  function confirmDelete() {
    return confirm("Are you sure you want to delete this class? This cannot be undone.");
  }

  function confirmLeave() {
    return confirm("Are you sure you want to leave this class? You can always rejoin with the correct code.");
  }
</script>